{% extends "base.html" %}
{% block title %}Create New Post{% endblock %}
{% block content %}
<h2>Create New Post</h2>
<div class="row justify-content-center">
    <div class="col-md-8">
        <form method="post" enctype="multipart/form-data" class="card p-4 shadow">
            {% csrf_token %}
            <div class="row mb-3">
                <label for="id_title" class="col-sm-3 col-form-label">Title:</label>
                <div class="col-sm-9">
                    {{ form.title }}
                </div>
            </div>
            <div class="row mb-3">
                <label for="id_body" class="col-sm-3 col-form-label">Body:</label>
                <div class="col-sm-9">
                    {{ form.body }}
                </div>
            </div>
            <div class="row mb-3">
                <label for="id_image" class="col-sm-3 col-form-label">Image:</label>
                <div class="col-sm-9">
                    {{ form.image }}
                </div>
            </div>
            <div class="row mb-3">
                <label for="id_category" class="col-sm-3 col-form-label">Category:</label>
                <div class="col-sm-9">
                    {{ form.category }}
                </div>
            </div>
            <div class="row mb-3">
                <label for="id_tags" class="col-sm-3 col-form-label">Tags:</label>
                <div class="col-sm-9">
                    {{ form.tags }}
                    <small class="form-text text-muted">{{ form.tags.help_text }}</small>
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <a href="{% url 'post_list' %}" class="btn btn-secondary">Back to Posts</a>
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
    </div>
</div>

<!-- Select2 Integration for Tags -->
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0/dist/js/select2.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0/dist/css/select2.min.css" rel="stylesheet">
<script>
    $(document).ready(function() {
        $('#id_tags').select2({
            tags: true,  // Allow adding new tags
            tokenSeparators: [',', ' '],
            placeholder: "Select or create tags",
            allowClear: true,
        });
    });
</script>
{% endblock %}
